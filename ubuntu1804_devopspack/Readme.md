# DevOps Tools Pack для Ubuntu 18.04

## Описание проекта

Этот проект содержит файлы конфигурации Packer и скрипты для создания полностью настроенного образа виртуальной машины Ubuntu 18.04 с предустановленными инструментами для изучения DevOps. Образ создается с помощью HashiCorp Packer и настроен для использования в VirtualBox.

## Возможности

- Автоматическое создание виртуальной машины с Ubuntu 18.04 LTS
- Полный набор предустановленных DevOps-инструментов:
  - **Контейнеризация**: Docker, Docker Compose
  - **Оркестрация**: Kubernetes (kubectl, Minikube), Helm
  - **Инфраструктура как код**: Terraform, Ansible, Packer
  - **CI/CD**: GitLab Runner, GitHub CLI
  - **Базы данных**: PostgreSQL, MySQL, MongoDB, Redis
  - **Мониторинг**: Prometheus Node Exporter, Grafana
  - **Облачные платформы**: AWS CLI, Azure CLI, Google Cloud SDK
  - **Языки программирования**: Python 3, Node.js 16, Java 17
- Примеры конфигураций и учебные материалы
- Настроенная аутентификация по SSH-ключу для безопасного доступа

## Требования

- HashiCorp Packer (>= 1.7)
- Oracle VirtualBox (>= 6.1)
- Минимум 25 ГБ свободного места на диске
- Минимум 8 ГБ оперативной памяти на хост-машине
- Доступ в интернет для загрузки образа Ubuntu и необходимых пакетов

## Использование

### Подготовка

1. Клонируйте репозиторий
2. Убедитесь, что у вас установлен и настроен SSH-ключ
3. При необходимости измените путь к публичному SSH-ключу в файле `ubuntu.pkr.hcl`
4. Поместите ISO-образ Ubuntu 18.04.5 в директорию `iso/` или дождитесь его автоматической загрузки при первом запуске

### Создание образа

```bash
packer build ubuntu.pkr.hcl
```

После успешного выполнения в директории output будет создан файл образа в формате OVA, который можно импортировать в VirtualBox.

Импорт образа в VirtualBox

1. Откройте VirtualBox
2. Выберите "Файл" -> "Импорт конфигураций"
3. Укажите путь к созданному OVA-файлу в директории output
4. Следуйте инструкциям мастера импорта

## Структура проекта

- ubuntu.pkr.hcl - основной файл конфигурации Packer
- preseed.cfg - файл предварительной настройки установщика Ubuntu
- script/ - директория со скриптами для настройки системы:
  - update.sh - обновление системы и установка базовых пакетов
  - install_devops_tools.sh - установка инструментов DevOps
  - ssh.sh - настройка SSH доступа
  - cleanup.sh - очистка системы перед созданием образа
- iso/ - директория для ISO-образа Ubuntu
- output/ - директория для готового образа виртуальной машины

## Установленные инструменты

Образ содержит полный набор инструментов для изучения DevOps-практик:

Базовые инструменты

- Git, Vim, Nano, htop, jq, tmux и другие утилиты командной строки

Контейнеризация и оркестрация

- Docker, Docker Compose
- Kubernetes (kubectl)
- Minikube для локальной разработки
- Helm для управления пакетами Kubernetes

Инфраструктура как код (IaC)

- Terraform для создания и управления инфраструктурой
- Ansible для автоматизации конфигурации
- Packer для создания образов виртуальных машин

CI/CD

- GitLab Runner для интеграции с GitLab CI/CD
- GitHub CLI для взаимодействия с GitHub

Базы данных

- PostgreSQL - объектно-реляционная система управления базами данных
- MySQL - реляционная система управления базами данных
- MongoDB - документоориентированная NoSQL база данных
- Redis - хранилище данных в памяти типа "ключ-значение"

Мониторинг

- Prometheus Node Exporter для сбора метрик
- Grafana для визуализации и анализа метрик

Языки программирования

- Python 3 с pip
- Node.js 16 с npm
- Java 17 (OpenJDK)

Примеры

В директории /opt/devops-examples на готовом образе содержатся примеры конфигураций для различных инструментов:

- Terraform
- Docker Compose
- Kubernetes
- Ansible

Параметры по умолчанию

- Пользователь: ubuntu
- Пароль: ubuntu (только для начальной настройки)
- SSH-доступ: настроен только по SSH-ключу
- Ресурсы VM: 4 vCPU, 4 ГБ RAM, 32 ГБ диск

Дополнительная информация

Для изменения параметров виртуальной машины (память, процессоры, размер диска) отредактируйте соответствующие переменные в файле ubuntu.pkr.hcl.

Данный образ предназначен для учебных целей и содержит все необходимые инструменты для изучения современных DevOps-практик в одном месте.
